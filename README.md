
# Руководство по запуску API проекта локально

Данное руководство содержит пошаговую инструкцию для установки, настройки и запуска API проекта локально на Python.

---

## 1. Системные требования

Перед началом убедитесь, что на вашем компьютере установлены следующие программы:

- **Python**: Версия 3.12. Скачать можно с [официального сайта](https://www.python.org/).
- **Git**: Для клонирования репозитория (опционально).
- **SQLite**: Уже встроен в Python, дополнительной установки не требуется.

---

## 2. Установка проекта

### 2.1. Клонирование репозитория

Если проект размещен на GitHub или другом хранилище, выполните команду:

```bash
git clone https://github.com/MuhammadMirzoev/DevHorizon.git
```

Или скачайте архив с проектом и распакуйте его.

### 2.2. Создание виртуального окружения

Создайте изолированное виртуальное окружение для Python, чтобы избежать конфликтов библиотек:

```bash
python -m venv venv
```

Активируйте виртуальное окружение:

- **Для Windows**:
  ```bash
  venv\Scripts\activate
  ```
- **Для macOS/Linux**:
  ```bash
  source venv/bin/activate
  ```

### 2.3. Установка зависимостей

Все необходимые библиотеки указаны в файле `requirements.txt`. Установите их командой:

```bash
pip install -r requirements.txt
```

Если файла `requirements.txt` нет, выполните команды для установки библиотек вручную:

```bash
pip install flask flask-swagger-ui requests
```

---
пункт 3 нахуй не нужен это гпт его добавил


## 3. Инициализация базы данных

1. Убедитесь, что в папке проекта присутствует файл `bd.py`.
2. Выполните команду для создания и инициализации базы данных:
   ```bash
   python bd.py
   ```
3. После выполнения в папке проекта появится файл базы данных `DevHorizon.db`.
пункт 3 нахуй не нужен это гпт его добавил 

---

## 4. Запуск сервера

Для запуска Flask-сервера выполните следующую команду:

```bash
python api.py
```

Если запуск прошел успешно, сервер будет доступен по адресу:

```
http://127.0.0.1:5000
```

### 4.1. Документация API

Документация доступна по адресу:

```
http://127.0.0.1:5000/api/docs
```

---

## 5. Тестирование API

### 5.1. Использование Postman

- Установите [Postman](https://www.postman.com/).
- Создайте новый запрос, указав URL-адрес API (например, `http://127.0.0.1:5000/users`).
- Выберите метод запроса (`GET`, `POST` и т. д.) и настройте тело запроса (если требуется).

### 5.2. Использование `curl`

Пример запроса для получения списка пользователей:

```bash
curl -X GET http://127.0.0.1:5000/users
```

Пример запроса для добавления задачи:

```bash
curl -X POST http://127.0.0.1:5000/tasks \
-H "Content-Type: application/json" \
-d '{"title": "New Task", "description": "Description", "assigned_user_id": 1, "status": "новая", "deadline": "2024-12-31"}'
```

---

## 6. Настройка для использования с Flutter

Для взаимодействия с API в Flutter используйте библиотеку `http`. Пример кода для отправки GET-запроса:

```dart
import 'package:http/http.dart' as http;

Future<void> fetchUsers() async {
  final response = await http.get(Uri.parse('http://127.0.0.1:5000/users'));
  if (response.statusCode == 200) {
    print(response.body);
  } else {
    print('Ошибка: ${response.statusCode}');
  }
}
```

Пример POST-запроса:

```dart
Future<void> createTask() async {
  final response = await http.post(
    Uri.parse('http://127.0.0.1:5000/tasks'),
    headers: {'Content-Type': 'application/json'},
    body: jsonEncode({
      "title": "New Task",
      "description": "Task description",
      "assigned_user_id": 1,
      "status": "в процессе",
      "deadline": "2024-12-31"
    }),
  );

  if (response.statusCode == 201) {
    print('Задача успешно создана');
  } else {
    print('Ошибка: ${response.body}');
  }
}
```

---

## 7. Примечания

- Убедитесь, что порт `5000` открыт и доступен.
- Если API должен быть доступен извне (не только на локальном хосте), используйте инструмент вроде `ngrok` для проброса порта.
- Обязательно обновляйте зависимости при изменениях в проекте.
